<ion-button (click)="goBack()" class="back-button-floating-new">
  <ion-icon slot="icon-only" name="arrow-back-outline"></ion-icon>
</ion-button>

<ion-content [fullscreen]="true">
  <div class="admin-header-container">
    <div class="admin-header-content">
      <ion-title size="large" class="admin-page-title">Panel de Admin</ion-title>

      <ion-card class="admin-card">
        <ion-card-header>
          <ion-card-title>Solicitudes Pendientes</ion-card-title>
        </ion-card-header>
        <ion-card-content>
          @if (solicitudes.length === 0 && !isLoading) { <p class="no-requests">No hay solicitudes pendientes.</p>
          } @else if (isLoading) {
            <ion-item lines="none"><ion-spinner name="crescent"></ion-spinner></ion-item>
          } @else {
            <ion-list lines="full">
              @for (user of solicitudes; track user._id) {
                <ion-item>
                  <ion-label>
                    <h2>{{ user.nombre }}</h2>
                    <p><strong>Email:</strong> {{ user.email }}</p>
                    <p><strong>Motivo:</strong> {{ user.solicitudCritico?.motivacion || 'N/A' }}</p>
                    <p><strong>Redes:</strong> {{ user.solicitudCritico?.redesSociales || 'N/A' }}</p> </ion-label>
                  <ion-buttons slot="end">
                    <ion-button fill="clear" color="success" (click)="aprobar(user._id)">Aprobar</ion-button>
                    <ion-button fill="clear" color="danger" (click)="rechazar(user._id)">Rechazar</ion-button>
                  </ion-buttons>
                </ion-item>
              }
            </ion-list>
          }
        </ion-card-content>
      </ion-card>

    </div>
  </div>
</ion-content>